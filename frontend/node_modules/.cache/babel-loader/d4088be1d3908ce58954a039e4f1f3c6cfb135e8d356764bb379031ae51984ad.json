{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ombho\\\\OneDrive\\\\Desktop\\\\Final\\\\MERN-Expense-Tracker-VAMK-Thesis-2023\\\\client\\\\src\\\\components\\\\TransactionList.js\",\n  _s = $RefreshSig$();\nimport Table from \"@mui/material/Table\";\nimport TableBody from \"@mui/material/TableBody\";\nimport TableCell from \"@mui/material/TableCell\";\nimport TableContainer from \"@mui/material/TableContainer\";\nimport TableHead from \"@mui/material/TableHead\";\nimport TableRow from \"@mui/material/TableRow\";\nimport Paper from \"@mui/material/Paper\";\nimport { useSelector } from \"react-redux\";\nimport { Typography } from \"@mui/material\";\nimport EditSharpIcon from \"@mui/icons-material/EditSharp\";\nimport DeleteSharpIcon from \"@mui/icons-material/DeleteSharp\";\nimport IconButton from \"@mui/material/IconButton\";\nimport dayjs from \"dayjs\";\nimport Cookies from \"js-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function TransactionList(_ref) {\n  _s();\n  let {\n    data,\n    fetchTransactions,\n    setEditTransaction,\n    editTransaction\n  } = _ref;\n  const token = Cookies.get(\"token\");\n  const user = useSelector(state => state.auth.user);\n  function categoryName(id) {\n    if (!user) {\n      return \"Loading\";\n    }\n    const category = user.categories.find(category => category._id === id);\n    return category ? category.icon : \"N/A\";\n  }\n  async function remove(_id) {\n    if (!window.confirm(\"Are you sure you want to delete this transaction?\")) return;\n    const res = await fetch(`${process.env.REACT_APP_API_URL}/transaction/${_id}`, {\n      method: \"DELETE\",\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    if (res.ok) {\n      fetchTransactions();\n    }\n  }\n  function formatDate(date) {\n    return dayjs(date).format(\"DD.MM.YYYY\");\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      children: \"List of Transactions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        sx: {\n          minWidth: 650\n        },\n        \"aria-label\": \"simple table\",\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Amount\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: data.map(month => month.transactions.map(row => /*#__PURE__*/_jsxDEV(TableRow, {\n            sx: {\n              \"&:last-child td, &:last-child th\": {\n                border: 0\n              }\n            },\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              component: \"th\",\n              scope: \"row\",\n              children: [row.amount, \" \\u20B9\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: row.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              sx: {\n                fontSize: 20\n              },\n              children: categoryName(row.category_id)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: formatDate(row.date)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: [/*#__PURE__*/_jsxDEV(IconButton, {\n                color: \"warning\",\n                component: \"label\",\n                onClick: () => setEditTransaction(row),\n                disabled: editTransaction.amount !== undefined,\n                children: /*#__PURE__*/_jsxDEV(EditSharpIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                color: \"error\",\n                component: \"label\",\n                onClick: () => remove(row._id),\n                disabled: editTransaction.amount !== undefined,\n                children: /*#__PURE__*/_jsxDEV(DeleteSharpIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 19\n            }, this)]\n          }, row._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }, this)))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(TransactionList, \"ODc3cjw/vvoWaLFqHWcEGODyOfo=\", false, function () {\n  return [useSelector];\n});\n_c = TransactionList;\nvar _c;\n$RefreshReg$(_c, \"TransactionList\");","map":{"version":3,"names":["Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","useSelector","Typography","EditSharpIcon","DeleteSharpIcon","IconButton","dayjs","Cookies","jsxDEV","_jsxDEV","Fragment","_Fragment","TransactionList","_ref","_s","data","fetchTransactions","setEditTransaction","editTransaction","token","get","user","state","auth","categoryName","id","category","categories","find","_id","icon","remove","window","confirm","res","fetch","process","env","REACT_APP_API_URL","method","headers","Authorization","ok","formatDate","date","format","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","component","sx","minWidth","align","map","month","transactions","row","border","scope","amount","description","fontSize","category_id","color","onClick","disabled","undefined","_c","$RefreshReg$"],"sources":["C:/Users/ombho/OneDrive/Desktop/Final/MERN-Expense-Tracker-VAMK-Thesis-2023/client/src/components/TransactionList.js"],"sourcesContent":["import Table from \"@mui/material/Table\";\r\nimport TableBody from \"@mui/material/TableBody\";\r\nimport TableCell from \"@mui/material/TableCell\";\r\nimport TableContainer from \"@mui/material/TableContainer\";\r\nimport TableHead from \"@mui/material/TableHead\";\r\nimport TableRow from \"@mui/material/TableRow\";\r\nimport Paper from \"@mui/material/Paper\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Typography } from \"@mui/material\";\r\nimport EditSharpIcon from \"@mui/icons-material/EditSharp\";\r\nimport DeleteSharpIcon from \"@mui/icons-material/DeleteSharp\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport dayjs from \"dayjs\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nexport default function TransactionList({\r\n  data,\r\n  fetchTransactions,\r\n  setEditTransaction,\r\n  editTransaction,\r\n}) {\r\n  const token = Cookies.get(\"token\");\r\n  const user = useSelector((state) => state.auth.user);\r\n\r\n  function categoryName(id) {\r\n    if (!user) {\r\n      return \"Loading\";\r\n    }\r\n    const category = user.categories.find(\r\n      (category) => category._id === id\r\n    );\r\n    return category ? category.icon : \"N/A\";\r\n  }\r\n\r\n  async function remove(_id) {\r\n    if (!window.confirm(\"Are you sure you want to delete this transaction?\"))\r\n      return;\r\n    const res = await fetch(\r\n      `${process.env.REACT_APP_API_URL}/transaction/${_id}`,\r\n      {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      }\r\n    );\r\n    if (res.ok) {\r\n      fetchTransactions();\r\n    }\r\n  }\r\n\r\n  function formatDate(date) {\r\n    return dayjs(date).format(\"DD.MM.YYYY\");\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Typography variant=\"h6\">List of Transactions</Typography>\r\n      <TableContainer component={Paper}>\r\n        <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"center\">Amount</TableCell>\r\n              <TableCell align=\"center\">Description</TableCell>\r\n              <TableCell align=\"center\">Category</TableCell>\r\n              <TableCell align=\"center\">Date</TableCell>\r\n              <TableCell align=\"center\">Actions</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {data.map((month) =>\r\n              month.transactions.map((row) => (\r\n                <TableRow\r\n                  key={row._id}\r\n                  sx={{ \"&:last-child td, &:last-child th\": { border: 0 } }}\r\n                >\r\n                  <TableCell align=\"center\" component=\"th\" scope=\"row\">\r\n                    {row.amount} â‚¹\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">{row.description}</TableCell>\r\n                  <TableCell align=\"center\" sx={{ fontSize: 20 }}>\r\n                    {categoryName(row.category_id)}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">{formatDate(row.date)}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <IconButton\r\n                      color=\"warning\"\r\n                      component=\"label\"\r\n                      onClick={() => setEditTransaction(row)}\r\n                      disabled={editTransaction.amount !== undefined}\r\n                    >\r\n                      <EditSharpIcon />\r\n                    </IconButton>\r\n                    <IconButton\r\n                      color=\"error\"\r\n                      component=\"label\"\r\n                      onClick={() => remove(row._id)}\r\n                      disabled={editTransaction.amount !== undefined}\r\n                    >\r\n                      <DeleteSharpIcon />\r\n                    </IconButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))\r\n            )}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}